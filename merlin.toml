# Merlin Configuration for Covenant Dotfiles
# Root configuration - global settings and profiles only

[metadata]
name = "covenant"
version = "1.0.0"
description = "Personal dotfiles managed by Merlin"

# ============================================================================
# Settings
# ============================================================================

[settings]
auto_link = false                # Don't auto-link, let user control it
confirm_before_install = false   # Don't ask for confirmation
conflict_strategy = "backup"     # Backup existing files before creating symlinks

# Default directory variables (can be overridden by Merlin at runtime)
home_dir = "~"
config_dir = "{home_dir}/.config"

# ============================================================================
# Pre-install - System Requirements (installed FIRST, before anything else)
# ============================================================================

[preinstall]
tools = [
  "xcode",                 # Xcode Command Line Tools
  "brew",                  # Homebrew package manager
  "mas",                   # Mac App Store CLI
  "git",                   # Git version control
  "zsh"                    # Z shell
]

# ============================================================================
# Profiles
# ============================================================================

[[profile]]
name = "full"
default = true
description = "Full setup with all tools"
tools = [
  "cursor",
  "dark-notify",
  "eza",
  "ghostty",
  "karabiner",
  "lazygit",
  "misc",
  "mise",
  "oh-my-posh",
  "rectangle",
  "zellij"
]

# [[profile]]
# name = "minimal"
# description = "Minimal setup - just essentials"
# tools = ["git", "zsh", "brew"]

# [[profile]]
# name = "work"
# hostname = "Work-MacBook"
# description = "Work machine setup"
# tools = ["git", "zsh", "brew", "cursor", "mise"]
